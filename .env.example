# ============================================
# FLASK APPLICATION
# ============================================
FLASK_ENV=production
FLASK_APP=src/main.py
SECRET_KEY=your-super-secret-key-change-in-production
DEBUG=False

# ============================================
# SERVER CONFIGURATION
# ============================================
SERVER_HOST=0.0.0.0
SERVER_PORT=5000
SERVER_WORKERS=4

# ============================================
# DATABASE (PostgreSQL)
# ============================================
DATABASE_URL=postgresql://username:password@localhost:5432/ms_ml_despacho
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_RECYCLE=3600

# ============================================
# REDIS CACHE
# ============================================
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600

# ============================================
# ML MODELS
# ============================================
MODEL_PATH=./ml/models
DATA_PATH=./ml/data
MODEL_VERSION=1.0.0
ENABLE_MODEL_AUTO_UPDATE=False
MODEL_AUTO_UPDATE_INTERVAL=604800  # 7 days in seconds

# ============================================
# MICROSERVICES URLS
# ============================================
MS_DESPACHO_URL=http://ms-despacho-service.ambulance-system.svc.cluster.local
MS_AUTH_URL=http://ms-auth-service.ambulance-system.svc.cluster.local
MS_WEBSOCKET_URL=http://ms-websocket-service.ambulance-system.svc.cluster.local

# ============================================
# AUTHENTICATION
# ============================================
JWT_SECRET=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION=86400

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/app.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_DEFAULT=100
RATE_LIMIT_WINDOW=60
RATE_LIMIT_PER_USER=200
RATE_LIMIT_PER_USER_WINDOW=3600

# ============================================
# MONITORING & METRICS
# ============================================
PROMETHEUS_ENABLED=True
PROMETHEUS_PORT=8001
HEALTH_CHECK_INTERVAL=30
SENTRY_DSN=

# ============================================
# CORS
# ============================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://dashboard.ambulance.com
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Content-Type,Authorization,X-Requested-With

# ============================================
# ML ALGORITHMS CONFIGURATION
# ============================================

# ETA Model Parameters
ETA_MODEL_TYPE=gradient_boosting  # 'linear', 'gradient_boosting', 'neural_network'
ETA_MODEL_MIN_ACCURACY=0.85
ETA_CONFIDENCE_THRESHOLD=0.7

# Severity Classifier Parameters
SEVERITY_MODEL_TYPE=naive_bayes  # 'naive_bayes', 'svm', 'neural_network'
SEVERITY_CONFIDENCE_THRESHOLD=0.75

# Ambulance Selector Parameters
AMBULANCE_MAX_DISTANCE_KM=15
AMBULANCE_PREFERENCE_WEIGHT=0.4
DISTANCE_WEIGHT=0.3
AVAILABILITY_WEIGHT=0.3

# Route Optimizer Parameters
ROUTE_OPTIMIZATION_ENABLED=True
ROUTE_CACHE_TTL=300
ROUTE_MAX_ALTERNATIVES=3
ROUTE_TRAFFIC_FORECAST=True

# ============================================
# TRAINING & UPDATES
# ============================================
AUTO_TRAIN_ENABLED=False
AUTO_TRAIN_INTERVAL=604800  # Weekly
MIN_TRAINING_SAMPLES=1000
RETRAIN_ON_ACCURACY_DROP=True
ACCURACY_DROP_THRESHOLD=0.05

# ============================================
# CACHING
# ============================================
CACHE_PREDICTIONS=True
CACHE_MODEL_OUTPUTS=True
CACHE_EXTERNAL_CALLS=True
CACHE_EXPIRATION=300

# ============================================
# EXTERNAL SERVICES
# ============================================
TRAFFIC_API_ENABLED=True
TRAFFIC_API_KEY=your-traffic-api-key
HOSPITAL_API_URL=http://hospital-service/api
HOSPITAL_API_KEY=your-hospital-api-key

# ============================================
# SECURITY
# ============================================
ENFORCE_HTTPS=True
SECURE_COOKIES=True
CORS_CREDENTIALS=True
MAX_CONTENT_LENGTH=16777216  # 16MB

# ============================================
# FEATURE FLAGS
# ============================================
FEATURE_ADVANCED_ROUTING=True
FEATURE_TRAFFIC_PREDICTION=True
FEATURE_AMBULANCE_OPTIMIZATION=True
FEATURE_BATCH_PREDICTION=True
FEATURE_MODEL_VERSIONING=True

# ============================================
# DEVELOPMENT
# ============================================
TESTING=False
DEVELOPMENT_MODE=False
VERBOSE_LOGGING=False
